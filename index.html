<!DOCTYPE html>
<html>

<head>
    <script src="./des/des.js"></script>
</head>

<body>
    <canvas id="mycanvas" width="500" height="500" style="border:1px solid black;"></canvas>
    <button onclick="processImage()">Process Image</button>
    <img id="image" src="image.png" />
</body>

<script>
    var img = document.getElementById("image");
    img.setAttribute('crossOrigin', '');
    var canvas = document.getElementById('mycanvas');
    var ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0);
    img.style.display = " block ";
    // var ctx = canvas.getContext('2d');
    var imgData = ctx.getImageData(0, 0, 300, 227);
    var key = "10101010 ";
    var message = "01010101 ";
    var count = 0;
    var data = imgData.data;
    console.log(data);
    for (var i = 0; i < data.length; i = i + 4) {
        console.log(data[i], data[i + 1], data[i + 2]);
        // avg = parseInt((data[i] + data[i + 1] + data[i + 2]) / 3);
        // data[i] = avg;
        // data[i + 1] = avg;
        // data[i + 2] = avg;

    }
    ctx.putImageData(imgData, 0, 0);

</script>

</html>